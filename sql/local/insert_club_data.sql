USE incentive_local;

-- ============================================
-- データクリーンアップ（既存のDEMO01データを削除）
-- ============================================
DELETE FROM action_records WHERE tenant_id = 'DEMO01';
DELETE FROM task_records WHERE tenant_id = 'DEMO01';
DELETE FROM sales_records WHERE tenant_id = 'DEMO01';
DELETE FROM bulletins WHERE tenant_id = 'DEMO01';
DELETE FROM events WHERE tenant_id = 'DEMO01';
DELETE FROM actions WHERE tenant_id = 'DEMO01';
DELETE FROM tasks WHERE tenant_id = 'DEMO01';
DELETE FROM products WHERE tenant_id = 'DEMO01';
DELETE FROM members WHERE tenant_id = 'DEMO01';
DELETE FROM teams WHERE tenant_id = 'DEMO01';
DELETE FROM tenants WHERE tenant_id = 'DEMO01';

-- ============================================
-- テナント情報（キャバクラ：CLUB高濱）
-- ============================================
INSERT INTO tenants (tenant_id, tenant_name, status) VALUES
('DEMO01', 'CLUB高濱', '有効');

-- ============================================
-- チーム情報
-- ============================================
INSERT INTO teams (team_id, tenant_id, team_name) VALUES
('TEAM001', 'DEMO01', 'キャスト'),
('TEAM002', 'DEMO01', 'ボーイ'),
('TEAM003', 'DEMO01', '店長・幹部');

-- ============================================
-- メンバー情報（スタッフ）
-- ============================================
INSERT INTO members (member_id, tenant_id, login_id, name, role, pin, team_id, status) VALUES
('MEM001', 'DEMO01', 'takahama', '高濱 太郎', 'admin', '1111', 'TEAM003', '有効'),
('MEM002', 'DEMO01', 'yamada', '山田 次郎', 'admin', '2222', 'TEAM003', '有効'),
('MEM003', 'DEMO01', 'rina', 'りな', 'user', '3333', 'TEAM001', '有効'),
('MEM004', 'DEMO01', 'miyu', 'みゆ', 'user', '4444', 'TEAM001', '有効'),
('MEM005', 'DEMO01', 'yuki', 'ゆき', 'user', '5555', 'TEAM001', '有効'),
('MEM006', 'DEMO01', 'nana', 'ななせ', 'user', '6666', 'TEAM001', '有効'),
('MEM007', 'DEMO01', 'sato', '佐藤 健', 'user', '7777', 'TEAM002', '有効'),
('MEM008', 'DEMO01', 'tanaka', '田中 勇', 'user', '8888', 'TEAM002', '有効'),
('MEM009', 'DEMO01', 'aoi', 'あおい', 'user', '9999', 'TEAM001', '有効'),
('MEM010', 'DEMO01', 'moe', 'もえ', 'user', '1000', 'TEAM001', '有効');

-- ============================================
-- 商品マスタ（キャバクラメニュー）
-- ============================================
INSERT INTO products (product_id, tenant_id, product_name, large_category, medium_category, small_category, price, cost, point, status, approval_required) VALUES
-- セット料金
('PROD001', 'DEMO01', 'セット料金60分', '売上', 'セット料金', '通常', 5000.00, 0.00, 500, '有効', 0),
('PROD002', 'DEMO01', 'セット料金90分', '売上', 'セット料金', '通常', 7000.00, 0.00, 700, '有効', 0),
('PROD003', 'DEMO01', 'セット料金120分', '売上', 'セット料金', '通常', 9000.00, 0.00, 900, '有効', 0),
('PROD004', 'DEMO01', 'VIPセット60分', '売上', 'セット料金', 'VIP', 8000.00, 0.00, 800, '有効', 0),
('PROD005', 'DEMO01', 'VIPセット90分', '売上', 'セット料金', 'VIP', 11000.00, 0.00, 1100, '有効', 0),

-- 指名料
('PROD006', 'DEMO01', '本指名', '売上', '指名料', '指名', 3000.00, 0.00, 300, '有効', 0),
('PROD007', 'DEMO01', '場内指名', '売上', '指名料', '指名', 1500.00, 0.00, 150, '有効', 0),

-- 延長料金
('PROD008', 'DEMO01', '延長30分', '売上', '延長料金', '延長', 3000.00, 0.00, 300, '有効', 0),
('PROD009', 'DEMO01', '延長60分', '売上', '延長料金', '延長', 5000.00, 0.00, 500, '有効', 0),

-- ドリンク（キャストドリンク）
('PROD010', 'DEMO01', 'キャストドリンク', '売上', 'ドリンク', 'キャストドリンク', 1500.00, 300.00, 150, '有効', 0),
('PROD011', 'DEMO01', 'キャストドリンク（高級）', '売上', 'ドリンク', 'キャストドリンク', 2000.00, 400.00, 200, '有効', 0),

-- ボトル
('PROD012', 'DEMO01', 'ボトル（焼酎）', '売上', 'ボトル', 'ボトル', 15000.00, 3000.00, 1500, '有効', 0),
('PROD013', 'DEMO01', 'ボトル（ウイスキー）', '売上', 'ボトル', 'ボトル', 20000.00, 4000.00, 2000, '有効', 0),
('PROD014', 'DEMO01', 'ボトル（シャンパン）', '売上', 'ボトル', 'シャンパン', 30000.00, 8000.00, 3000, '有効', 0),
('PROD015', 'DEMO01', 'ボトル（高級シャンパン）', '売上', 'ボトル', 'シャンパン', 50000.00, 15000.00, 5000, '有効', 0),

-- お客様ドリンク
('PROD016', 'DEMO01', '生ビール', '売上', 'ドリンク', 'お客様ドリンク', 1000.00, 200.00, 100, '有効', 0),
('PROD017', 'DEMO01', 'ハイボール', '売上', 'ドリンク', 'お客様ドリンク', 1000.00, 200.00, 100, '有効', 0),
('PROD018', 'DEMO01', 'ウーロン茶', '売上', 'ドリンク', 'ソフトドリンク', 500.00, 100.00, 50, '有効', 0),

-- フード
('PROD019', 'DEMO01', 'フルーツ盛り合わせ', '売上', 'フード', 'フード', 3000.00, 800.00, 300, '有効', 0),
('PROD020', 'DEMO01', 'おつまみ盛り合わせ', '売上', 'フード', 'フード', 2000.00, 500.00, 200, '有効', 0),

-- 同伴
('PROD021', 'DEMO01', '同伴', '売上', '同伴', '同伴', 5000.00, 0.00, 500, '有効', 1),

-- アフター
('PROD022', 'DEMO01', 'アフター', '売上', 'アフター', 'アフター', 0.00, 0.00, 300, '有効', 1);

-- ============================================
-- アクション（顧客エンゲージメント）
-- ============================================
INSERT INTO actions (action_id, tenant_id, action_name, target, point, status, approval_required, description) VALUES
('ACT001', 'DEMO01', '同伴', '個人', 500, '有効', 1, '同伴出勤'),
('ACT002', 'DEMO01', 'アフター', '個人', 300, '有効', 1, 'アフター実施'),
('ACT003', 'DEMO01', '新規客獲得', '個人', 800, '有効', 1, '新規のお客様獲得'),
('ACT004', 'DEMO01', '本指名獲得', '個人', 400, '有効', 1, '本指名を獲得'),
('ACT005', 'DEMO01', 'ボトル（焼酎・ウイスキー）', '個人', 300, '有効', 1, 'ボトルを入れてもらう'),
('ACT006', 'DEMO01', 'シャンパン', '個人', 800, '有効', 1, 'シャンパンを入れてもらう'),
('ACT007', 'DEMO01', 'SNS投稿（Instagram）', '個人', 100, '有効', 0, 'Instagramで営業投稿'),
('ACT008', 'DEMO01', 'LINE営業', '個人', 50, '有効', 0, 'お客様へのLINE営業');

-- ============================================
-- タスク（オペレーション業務）
-- ============================================
INSERT INTO tasks (task_id, tenant_id, task_name, type, point, status, approval_required, description) VALUES
('TASK001', 'DEMO01', '開店準備完了', '個人', 50, '有効', 0, '開店前の準備作業'),
('TASK002', 'DEMO01', '閉店作業完了', '個人', 50, '有効', 0, '閉店後の作業'),
('TASK003', 'DEMO01', '店内清掃完了', '個人', 30, '有効', 0, 'フロアの清掃'),
('TASK004', 'DEMO01', '化粧室清掃完了', '個人', 30, '有効', 0, '化粧室の清掃'),
('TASK005', 'DEMO01', 'ドリンク在庫補充', '個人', 40, '有効', 0, 'ドリンクの在庫補充'),
('TASK006', 'DEMO01', '売上日報作成', 'チーム', 50, '有効', 1, '日次売上報告書作成'),
('TASK007', 'DEMO01', '予約管理更新', '個人', 40, '有効', 0, '予約システムの更新'),
('TASK008', 'DEMO01', 'お礼LINE送信', '個人', 20, '有効', 0, '来店客へのお礼LINE');

-- ============================================
-- イベント
-- ============================================
INSERT INTO events (event_id, tenant_id, event_name, description, repeat_type, start_date, end_date, day_of_month, target_type, target_ids, multiplier, status) VALUES
('EVT001', 'DEMO01', 'バースデーイベント', '毎月10日・20日・30日はバースデーイベント！売上2倍ポイント', '毎月', '2024-10-01', '2025-12-31', NULL, '全商品', NULL, 2.0, '有効'),
('EVT002', 'DEMO01', '年末特別キャンペーン', '12月は全売上1.5倍ポイント', '単発', '2024-12-01', '2024-12-31', NULL, '全商品', NULL, 1.5, '無効'),
('EVT003', 'DEMO01', '新春キャンペーン', '1月全商品1.2倍ポイント', '単発', '2025-01-01', '2025-01-31', NULL, '全商品', NULL, 1.2, '無効');

-- ============================================
-- お知らせ（掲示板）
-- ============================================
INSERT INTO bulletins (bulletin_id, tenant_id, type, related_event_id, pinned, status, author, title, body, start_datetime, end_datetime) VALUES
('BUL001', 'DEMO01', 'イベント', 'EVT001', 1, '公開', 'MEM001', 'バースデーイベント開催中！', '毎月10日・20日・30日はバースデーイベント！全売上ポイント2倍です。頑張りましょう！', '2024-10-01 00:00:00', '2025-12-31 23:59:59'),
('BUL002', 'DEMO01', 'お知らせ', NULL, 0, '公開', 'MEM001', '10月のシフト調整について', '10月は大型連休があるため、シフト調整にご協力ください。', '2025-10-01 00:00:00', '2025-10-31 23:59:59');

-- ============================================
-- 売上データ（サンプル：最新データのみ）
-- ============================================
INSERT INTO sales_records (tenant_id, member_id, product_id, date, quantity, unit_price, base_point, event_multiplier, final_point, approval_status, note) VALUES
-- 10月のサンプルデータ
('DEMO01', 'MEM003', 'PROD001', '2025-10-01', 3, 5000.00, 1500, 1.00, 1500, '承認済み', NULL),
('DEMO01', 'MEM004', 'PROD006', '2025-10-01', 2, 3000.00, 600, 1.00, 600, '承認済み', NULL),
('DEMO01', 'MEM005', 'PROD010', '2025-10-01', 5, 1500.00, 750, 1.00, 750, '承認済み', NULL),

('DEMO01', 'MEM003', 'PROD002', '2025-10-02', 4, 7000.00, 2800, 1.00, 2800, '承認済み', NULL),
('DEMO01', 'MEM004', 'PROD007', '2025-10-02', 3, 1500.00, 450, 1.00, 450, '承認済み', NULL),
('DEMO01', 'MEM006', 'PROD010', '2025-10-02', 6, 1500.00, 900, 1.00, 900, '承認済み', NULL),

('DEMO01', 'MEM003', 'PROD006', '2025-10-03', 3, 3000.00, 900, 1.00, 900, '承認済み', NULL),
('DEMO01', 'MEM005', 'PROD012', '2025-10-03', 1, 15000.00, 1500, 1.00, 1500, '承認済み', NULL),
('DEMO01', 'MEM004', 'PROD010', '2025-10-03', 7, 1500.00, 1050, 1.00, 1050, '承認済み', NULL),

('DEMO01', 'MEM003', 'PROD001', '2025-10-04', 5, 5000.00, 2500, 1.00, 2500, '承認済み', NULL),
('DEMO01', 'MEM006', 'PROD006', '2025-10-04', 4, 3000.00, 1200, 1.00, 1200, '承認済み', NULL),
('DEMO01', 'MEM004', 'PROD008', '2025-10-04', 2, 3000.00, 600, 1.00, 600, '承認済み', NULL),

('DEMO01', 'MEM003', 'PROD003', '2025-10-05', 2, 9000.00, 1800, 1.00, 1800, '承認済み', NULL),
('DEMO01', 'MEM005', 'PROD014', '2025-10-05', 1, 30000.00, 3000, 1.00, 3000, '承認済み', NULL),
('DEMO01', 'MEM004', 'PROD010', '2025-10-05', 8, 1500.00, 1200, 1.00, 1200, '承認済み', NULL),

-- 10月10日（バースデーイベント）
('DEMO01', 'MEM003', 'PROD006', '2025-10-10', 5, 3000.00, 1500, 2.00, 3000, '承認済み', 'バースデーイベント'),
('DEMO01', 'MEM004', 'PROD014', '2025-10-10', 1, 30000.00, 3000, 2.00, 6000, '承認済み', 'バースデーイベント'),
('DEMO01', 'MEM005', 'PROD010', '2025-10-10', 10, 1500.00, 1500, 2.00, 3000, '承認済み', 'バースデーイベント');

-- ============================================
-- タスク実績データ（サンプル）
-- ============================================
INSERT INTO task_records (tenant_id, member_id, task_id, date, point, approval_status) VALUES
('DEMO01', 'MEM003', 'TASK001', '2025-10-01', 50, '承認済み'),
('DEMO01', 'MEM004', 'TASK003', '2025-10-01', 30, '承認済み'),
('DEMO01', 'MEM005', 'TASK008', '2025-10-01', 20, '承認済み'),

('DEMO01', 'MEM003', 'TASK001', '2025-10-02', 50, '承認済み'),
('DEMO01', 'MEM004', 'TASK004', '2025-10-02', 30, '承認済み'),
('DEMO01', 'MEM005', 'TASK002', '2025-10-02', 50, '承認済み');

-- ============================================
-- アクション実績データ（サンプル）
-- ============================================
INSERT INTO action_records (tenant_id, member_id, action_id, date, point, approval_status) VALUES
('DEMO01', 'MEM003', 'ACT001', '2025-10-01', 500, '承認済み'),
('DEMO01', 'MEM004', 'ACT004', '2025-10-02', 400, '承認済み'),
('DEMO01', 'MEM005', 'ACT003', '2025-10-03', 800, '承認済み'),
('DEMO01', 'MEM003', 'ACT006', '2025-10-05', 800, '承認済み'),
('DEMO01', 'MEM006', 'ACT007', '2025-10-06', 100, '承認済み'),
('DEMO01', 'MEM004', 'ACT008', '2025-10-07', 50, '承認済み');

SELECT 'CLUB高濱のデータ挿入が完了しました' AS message;
